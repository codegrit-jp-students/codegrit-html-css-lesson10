## scss拡張子

さてSassを使ったファイルを作成するには`scss`という拡張子を利用します。なぜ`sass`ではないかというと、実はSassには元々主流だった書き方と、現在主流の書き方の2種類が存在し、この現在主流の書き方に対応するために`scss`という拡張子を利用することになっているためです。

## ルートファイルを作成する

まずはこのscss拡張子を利用してルートファイルを作ってみましょう。命名法に決まりはないのですが、今回は`app.scss`というファイルを作ってみます。

## パーシャルファイル

ここまでのレッスンでは全てのCSSを一つのCSSファイルにまとめて書いてきました。プロジェクトが小さい内はこの方法で良いのですがコードが数百行、数千行規模になってくると1つのファイルで管理するのは大変になります。今後は役割ごとにファイルを分けていきましょう。

今回は試しに以下の３つの役割に分けてファイルを作成します。

- 1. `_base.scss`: ベースとなるスタイルをまとめたファイル
- 2. `_button.scss`: ボタン用のファイル
- 3. `_grid.scss`: グリッド用のファイル

さてここでファイル名で`_`(アンダーライン)を利用しています。Sassではルートファイルとそれ以外のサブファイルを区別するためにサブファイルの最初の文字を`_`とします。この`_`のついたファイルのことをパーシャル(Partials)と呼びます。`_`を付けることでSassは自動的にそのファイルがパーシャルであると認識してくれます。

ここまででエディタ上で以下の画像のように表示されます。

![Sass-1](./images/sass1.png)

## ルートファイルにパーシャルをインポートする

さて、役割ごとにファイルを分けたのはいいですがこれらのパーシャルをルートファイルでは自動で認識してはくれません。そのため、`@import`というオプションを利用してパーシャルをルートファイルにインポートします。

`app.scss`
```SCSS
@import 'base';
@import 'button';
@import 'grid';
```

これで、app.scssが全てのパーシャルを認識するように出来ました。`@import base`のように拡張子とアンダーラインの両方を省略して書く必要がありますので注意してください。

## _base.scssをアップデートする

さてまずは_base.scssをアップデートしてみましょう。

以下を試しに入力してみましょう。

```css
* {
  box-sizing: border-box;
}

body {
  font-size: 12px;
  line-height: 1.4;
  color: #ddd;
}
```

## ルートファイルをコンパイルする

準備が整ったのでHTMLファイルにスタイルを適用してみましょう。この時HTMLファイルはSassを自動的にCSSに変換してくれません。そこでSassのファイルをCSSファイルに変換する必要があります。こうして変換することをプログラミングの世界では**コンパイル**すると言います。

SassをCSSにコンパイルするにはコマンドラインで以下のコマンドを書きます。

`sass コンパイルするファイル名:出力先ファイル名`

実際にapp.scssファイルをコンパイルして、styles.cssというファイルを作ってみましょう。

```
$ ls
_base.scss _button.scss  _grid.scss app.scss
$ sass app.scss:styles.css
$ ls
_base.scss	_button.scss	_grid.scss	app.scss	styles.css	styles.css.map
```

このようにコンパイル完了後に、`styles.css`、`styles.css.map`の2つのファイルが出来ることが分かります。

styles.cssを開いてみましょう.すると下記のようになっているはずです。_base.scssでは、CSSの書き方をしているのでほぼ一緒ですね。

```css
* {
  box-sizing: border-box; }

body {
  font-size: 12px;
  line-height: 1.4;
  color: #ddd; }

/*# sourceMappingURL=styles.css.map */
```

## ルートファイルをwatchする

`sass コンパイルするファイル名:出力先ファイル名`というコマンドをSassファイルを変更する度に実行するのは大変です。そこでSassには`watch`というオプションがついています。(dart-sassの場合は現在未対応です。)

コマンドラインで以下のように入力してみて下さい。

```BASH
$ sass --watch app.scss:styles.css
>>> Sass is watching for changes. Press Ctrl-C to stop.
```

すると上記のように、「Sassが変更を見てます」という風に表示されます。これでSassファイルを変更する度に自動的にコンパイルが起こるようになりました。